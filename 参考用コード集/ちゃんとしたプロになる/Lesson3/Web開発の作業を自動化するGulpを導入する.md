
## Gulpとは？
Node.js上で動作するビルドシステムの１つで、  
**タスクランナー**とも呼ばれている。

たとえば、Sass のコンパイルを１つのタスクとして設定ファイルに記述しておけば、  
「**gulp**」コマンドを利用するだけで実行してくれる。  

Webサイト制作には、**JavaScriptの変換や圧縮**、**画像ファイルの軽量化**など、さまざまな作業が必要になるので、  
これらの作業を**自動化するツール**である **Gulp** について学んでおくと後々便利になる。  

    同じような自動化ツールには「Grunt」があるが、  
    「Gulp」は実行速度が速く、設定ファイルもJavaScriptで記述できることから、  
    現在は主要なビルドツールとして利用されている。  

<br>
<br>

## Gulpを実行するディレクトリ構成
まずは、**Gulp を動作させて**ビルドを行うディレクトリを作成する。  

>  【**POINT**】  
> どのようなディレクトリ構成が最適なのかは、実行したいタスクやプロジェクトによって異なる。  
> 基本的には「**入力するディレクトリと結果を出力するディレクトリがある**」という構成は変わらないので、  
> わかりやすいディレクトリ構成で作成する。  

<br>

「**myproject**」というディレクトリを作成して、その中に  
Sassファイルなど変換の元となるファイルを格納する「**src**」ディレクトリと、  
変換されたファイルを格納する「**dist**」ディレクトリを作成する。  

<br>
<br>

## Gulpのインストール
Gulpはプロジェクトごとにバージョンの異なるケースが多いため、**ローカルインストール**をする。  
```rb
$ npm install gulp --save-dev
```
「**node_modules**」ディレクトリと「**package.lock.json**」が自動で作成される。  

<br>

>  【 **node_modules** 】  
> 関連するパッケージが全て保存されているディレクトリ。  
> ディレクトリの容量が大きいので、ほかの開発者と共有する場合や Git などで管理する場合は、除外して共有を行う。  
> 「npm install」を実行することで、package.json に記載されたパッケージをここに再インストールできる。  

>  【 **package.lock.json** 】  
> npm上のライブラリは常にアップデートされており、別環境でインストールする際にバージョンが変わっている可能性がある。  
> 「package.lock.json」がある場合は、**まずこちらのファイルを参照して初期インストール時のバージョンに沿って**  
インストールを行うため、初回構築時と同じ環境で開発することができる。  

<br>
<br>

## タスクを設定する
Gulp のタスク設定は、「**gulpfile.js**」にJavaScriptを使って記述する。    
なので作業中のディレクトリに空ファイルで「gulpfill.js」を作成しよう。  

基本的なタスクを設定する流れは以下のとおりになる。  

1. npmコマンドで使用するモジュールをインストールする
2. gulpfile.js 内でインストールしたモジュールの読み込みを行う
3. タスクを定義する関数を記述する
4. 作成した関数を、exports をつかってモジュール化する

<br>

また、設定ファイルの基本的な構成は以下のようになる。  
```
// galpを読み込む
var gulp = require('gulp');

// タスクAの関数
function taskA() {
    ...
}

// タスクBの関数
function taskB() {
    ...
}

// 「gulp taskA」コマンドで単体タスクを実行できるようにする
exports.taskA = taskA;

// 「gulp」コマンドで taskA と taskB を並列実行する
exports.default = gulp.parallel('taskA', 'taskB');
```

<br>
<br>

## Sassのコンパイルを行う
実際に Sass をコンパイルするタスクを作成しながら、設定ファイルの書き方について学んでいく。  

srcディレクトリ以下にSCSSファイルを格納する「scss」ディレクトリを作成し、コンパイル元となる「style.scss」ファイルを配置する。  






