<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="section section0">
  </div>
  <div class="section section1">
    <div class="grid">
      <div class="grid__item one">アイテム1</div>
      <div class="grid__item two">アイテム2</div>
      <div class="grid__item three">アイテム3</div>
      <div class="grid__item four">アイテム4</div>
    </div>
  </div>
  <div class="section section2">
    <div class="grid">
      <div class="grid__item">アイテム1</div>
      <div class="grid__item">アイテム2</div>
      <div class="grid__item">アイテム3</div>
      <div class="grid__item">アイテム4</div>
    </div>
  </div>
  <div class="section section3">
    <div class="grid">
      <div class="grid__item">アイテム1</div>
      <div class="grid__item">アイテム2</div>
      <div class="grid__item">アイテム3</div>
      <div class="grid__item">アイテム4</div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>

    const item1 = document.querySelector('.one');
    const item2 = document.querySelector('.two');
    const item3 = document.querySelector('.three');
    const item4 = document.querySelector('.four');

    const callback = function (entries, observer) {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('inview');
          observer.unobserve(entry.target);
        } else {
          entry.target.classList.remove('inview');
        }
      });
    }

    const options = {
      rootMargin: "-100px 0px -100px 0px",
      threshold: 0
    };
    
    const io = new IntersectionObserver(callback, options);
    io.observe(item1);
    io.observe(item2);
    io.observe(item3);
    io.observe(item4);

  </script>
</body>

</html>